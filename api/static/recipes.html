<!-- recipes.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Recipes</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .checkbox { margin-right: 10px; }
    </style>
</head>
<body>
    <h1>Recipes</h1>
    <div>
        <label><input type="checkbox" class="checkbox" value="chicken" onchange="filterRecipes()">Chicken</label>
        <label><input type="checkbox" class="checkbox" value="beef" onchange="filterRecipes()">Beef</label>
        <label><input type="checkbox" class="checkbox" value="vegetarian" onchange="filterRecipes()">Vegetarian</label>
    </div>
    <ul id="recipeList"></ul>
    <a href="/">Back to Add Recipe</a>

    <script>
        let recipes = [];
        
        async function loadRecipes() {
            const response = await fetch('/api/getRecipes');
            recipes = await response.json();
            filterRecipes();
        }

        function filterRecipes() {
            const filters = Array.from(document.querySelectorAll('.checkbox:checked')).map(cb => cb.value);
            const filtered = filters.length === 0 ? recipes : recipes.filter(r => 
                filters.some(f => r.ingredients.includes(f)));
            const list = document.getElementById('recipeList');
            list.innerHTML = filtered.map(r => `<li><a href="${r.url}">${r.name}</a></li>`).join('');
        }

        window.onload = loadRecipes;
    </script>
</body>
</html>